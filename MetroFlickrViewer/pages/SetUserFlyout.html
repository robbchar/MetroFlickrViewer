<!doctype HTML>
<html>
<head>
    <title>Help settings flyout</title>
</head>
<body>
    <!-- BEGINSETTINGFLYOUT -->
    <div data-win-control="WinJS.UI.SettingsFlyout" aria-label="Help settings flyout" data-win-options="{settingsCommandId:'setUser',width:'wide'}">
        <!-- Use either 'win-ui-light' or 'win-ui-dark' depending on the contrast between the header title and background color -->
        <div class="win-ui-dark win-header" style="background-color: #00b2f0">
            <!-- Background color reflects app's personality -->
            <button type="button" onclick="WinJS.UI.SettingsFlyout.show()" class="win-backbutton"></button>
            <div class="win-label">Set the flickr username</div>
        </div>
        <div class="win-content ">
            <div class="win-settings-section">
                <input class="usernameInput" type="text" aria-label="current user name"
                    onkeypress="searchKeyPress(event);"
                    onblur="if (this.value == '') { this.value = MetroFlickrViewer.FlickrUser.userName; }"
                    onfocus="if (this.value == MetroFlickrViewer.FlickrUser.userName) { this.value = ''; }" />
                <button type="button" class="submitButton"
                    onclick="GroupedItems.initUI(document.querySelector('.usernameInput').value);">
                    Set</button>
            </div>
        </div>
    </div>
    <!-- ENDSETTINGSFLYOUT -->
    <script>
        function searchKeyPress(e) {
            // look for window.event in case event isn't passed in
            if (typeof e == 'undefined' && window.event) { e = window.event; }
            if (e.keyCode == 13) {
                document.querySelector('.submitButton').click();
            }
        }
    </script>
</body>
</html>
